<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Formulário socioeconômico</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <style>
    body {
      margin: 20px auto;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
    }

    h1 {
      padding: 6px;
      margin-bottom: 12px;
      font-weight: bold;
    }

    .container {
      max-width: 90%;
      margin: 0 auto;
      background: #fff;
      padding: 30px 40px;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    fieldset {
      border: 2px solid #ccc;
      border-radius: 20px;
      padding: 20px 30px 30px;
      margin-bottom: 20px;
      background-color: #fafafa;
      max-width: 33%;
      margin: 0 16px;
    }

    legend {
      font-weight: 700;
      font-size: 1.3rem;
      padding: 0 10px;
      color: #2c3e50;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 20px 20px;
    }

    label {
      display: block;
      font-weight: 600;
      margin: 6px 0;
      color: #555;
    }

    .form-group {
      flex: 1 1 200px;
      min-width: 200px;
      max-width: 280px;
      display: flex;
      flex-direction: column;
    }

    .form-container {
      display: flex;
      margin: 0 auto;
    }

    input[type="number"],
    select {
      padding: 8px 10px;
      font-size: 0.9rem;
      border-radius: 8px;
      border: 1.5px solid #ccc;
      transition: border-color 0.3s;
    }

    input[type="number"]:focus,
    select:focus {
      border-color: #0d6efd;
      outline: none;
    }

    button[type="submit"] {
      margin-top: 10px;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: 700;
      color: #fff;
      background-color: #0d6efd;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s;
      align-self: flex-start;
      flex-basis: 100%;
      max-width: 100%;
    }

    button[type="submit"]:hover {
      background-color: #084bcc;
    }

    #result {
      margin-top: 30px;
      font-size: 1.3rem;
      color: #0d6efd;
      font-weight: 700;
      text-align: center;
    }

    @media (max-width: 600px) {
      form {
        flex-direction: column;
      }
      .form-group {
        max-width: 100%;
      }
      button[type="submit"] {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Projeto em Ciência de Dados: Sistemas Inteligentes</h1>
    <form id="form" novalidate>
      <div class="form-container">
        <fieldset class="economic">
          <legend>Dados socioecômicos</legend>

          <div class="form-group">
            <label for="Idade">Idade</label>
            <input type="number" name="Idade" id="Idade" min="0" />
          </div>

          <div class="form-group">
            <label for="Gênero">Gênero</label>
            <select name="Gênero" id="Gênero">
              <option value="Feminino">Feminino</option>
              <option value="Masculino">Masculino</option>
              <option value="Outro">Outro</option>
              <option value="Prefiro não informar">Prefiro não informar</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Cor/Raça">Cor/Raça</label>
            <select name="Cor/Raça" id="Cor/Raça">
              <option value="Branca">Branca</option>
              <option value="Parda">Parda</option>
              <option value="Preta">Preta</option>
              <option value="Amarela">Amarela</option>
              <option value="Indígena">Indígena</option>
              <option value="Outra">Outra</option>
              <option value="Prefiro não informar">Prefiro não informar</option>
            </select>
          </div>

          <div class="form-group">
            <label for="PCD">PCD</label>
            <select name="PCD" id="PCD">
              <option value="Não">Não</option>
              <option value="Sim">Sim</option>
              <option value="Prefiro não informar">Prefiro não informar</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Estado onde mora">Estado onde mora</label>
            <select name="Estado onde mora" id="Estado onde mora">
              <option value="Acre (AC)">Acre (AC)</option>
              <option value="Alagoas (AL)">Alagoas (AL)</option>
              <option value="Amapá (AP)">Amapá (AP)</option>
              <option value="Amazonas (AM)">Amazonas (AM)</option>
              <option value="Bahia (BA)">Bahia (BA)</option>
              <option value="Ceará (CE)">Ceará (CE)</option>
              <option value="Distrito Federal (DF)">Distrito Federal (DF)</option>
              <option value="Espírito Santo (ES)">Espírito Santo (ES)</option>
              <option value="Goiás (GO)">Goiás (GO)</option>
              <option value="Maranhão (MA)">Maranhão (MA)</option>
              <option value="Mato Grosso (MT)">Mato Grosso (MT)</option>
              <option value="Mato Grosso do Sul (MS)">Mato Grosso do Sul (MS)</option>
              <option value="Minas Gerais (MG)">Minas Gerais (MG)</option>
              <option value="Paraná (PR)">Paraná (PR)</option>
              <option value="Paraíba (PB)">Paraíba (PB)</option>
              <option value="Pará (PA)">Pará (PA)</option>
              <option value="Pernambuco (PE)">Pernambuco (PE)</option>
              <option value="Piauí (PI)">Piauí (PI)</option>
              <option value="Rio Grande do Norte (RN)">Rio Grande do Norte (RN)</option>
              <option value="Rio Grande do Sul (RS)">Rio Grande do Sul (RS)</option>
              <option value="Rio de Janeiro (RJ)">Rio de Janeiro (RJ)</option>
              <option value="Rondônia (RO)">Rondônia (RO)</option>
              <option value="Santa Catarina (SC)">Santa Catarina (SC)</option>
              <option value="Sergipe (SE)">Sergipe (SE)</option>
              <option value="São Paulo (SP)">São Paulo (SP)</option>
              <option value="Tocantins (TO)">Tocantins (TO)</option>
              <option value="Não informado">Não informado</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Região onde mora">Região onde mora</label>
            <select name="Região onde mora" id="Região onde mora">
              <option value="Centro-oeste">Centro-oeste</option>
              <option value="Nordeste">Nordeste</option>
              <option value="Norte">Norte</option>
              <option value="Sudeste">Sudeste</option>
              <option value="Sul">Sul</option>
              <option value="Não informado">Não informado</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Faixa salarial">Faixa salarial</label>
            <select name="Faixa salarial" id="Faixa salarial">
              <option value="Menos de R$ 1.000/mês">Menos de R$ 1.000/mês</option>
              <option value="de R$ 1.001/mês a R$ 2.000/mês">de R$ 1.001/mês a R$ 2.000/mês</option>
              <option value="de R$ 2.001/mês a R$ 3.000/mês">de R$ 2.001/mês a R$ 3.000/mês</option>
              <option value="de R$ 3.001/mês a R$ 4.000/mês">de R$ 3.001/mês a R$ 4.000/mês</option>
              <option value="de R$ 4.001/mês a R$ 6.000/mês">de R$ 4.001/mês a R$ 6.000/mês</option>
              <option value="de R$ 6.001/mês a R$ 8.000/mês">de R$ 6.001/mês a R$ 8.000/mês</option>
              <option value="de R$ 8.001/mês a R$ 12.000/mês">de R$ 8.001/mês a R$ 12.000/mês</option>
              <option value="de R$ 12.001/mês a R$ 16.000/mês">de R$ 12.001/mês a R$ 16.000/mês</option>
              <option value="de R$ 16.001/mês a R$ 20.000/mês">de R$ 16.001/mês a R$ 20.000/mês</option>
              <option value="de R$ 20.001/mês a R$ 25.000/mês">de R$ 20.001/mês a R$ 25.000/mês</option>
              <option value="de R$ 25.001/mês a R$ 30.000/mês">de R$ 25.001/mês a R$ 30.000/mês</option>
              <option value="de R$ 30.001/mês a R$ 40.000/mês">de R$ 30.001/mês a R$ 40.000/mês</option>
              <option value="Acima de R$ 40.001/mês">Acima de R$ 40.001/mês</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Nivel de segurança">Nível de segurança</label>
            <select name="Nivel de segurança" id="Nivel de segurança">
              <option value="Baixo">Baixo</option>
              <option value="Moderado">Moderado</option>
            </select>
          </div>
        
      </fieldset>

        <fieldset>
          <legend>Dados de Educação/Formação</legend>
          <div class="form-group">
            <label for="Nível de ensino">Nível de ensino</label>
            <select name="Nível de ensino" id="Nível de ensino">
              <option value="Estudante de Graduação">Estudante de Graduação</option>
              <option value="Graduação/Bacharelado">Graduação/Bacharelado</option>
              <option value="Pós-graduação">Pós-graduação</option>
              <option value="Mestrado">Mestrado</option>
              <option value="Doutorado ou Phd">Doutorado ou Phd</option>
              <option value="Não tenho graduação formal">Não tenho graduação formal</option>
              <option value="Prefiro não informar">Prefiro não informar</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Área de formação">Área de formação</label>
            <select name="Área de formação" id="Área de formação">
              <option value="Ciências Biológicas/ Farmácia/ Medicina/ Área da Saúde">Ciências Biológicas/ Farmácia/ Medicina/ Área da Saúde</option>
              <option value="Ciências Sociais">Ciências Sociais</option>
              <option value="Computação / Engenharia de Software / Sistemas de Informação/ TI">Computação / Engenharia de Software / Sistemas de Informação/ TI</option>
              <option value="Economia/ Administração / Contabilidade / Finanças/ Negócios">Economia/ Administração / Contabilidade / Finanças/ Negócios</option>
              <option value="Estatística/ Matemática / Matemática Computacional/ Ciências Atuariais">Estatística/ Matemática / Matemática Computacional/ Ciências Atuariais</option>
              <option value="Marketing / Publicidade / Comunicação / Jornalismo">Marketing / Publicidade / Comunicação / Jornalismo</option>
              <option value="Química / Física">Química / Física</option>
              <option value="Outras Engenharias">Outras Engenharias</option>
              <option value="Não informado">Não informado</option>
              <option value="Outra opção">Outra opção</option>
            </select>
          </div>
        </fieldset>

        <fieldset>
          <legend>Dados relacionados ao Trabalho</legend>
          <div class="form-group">
            <label for="Situação atual de trabalho">Situação atual de trabalho</label>
            <select name="Situação atual de trabalho" id="Situação atual de trabalho">
              <option value="Empreendedor ou Empregado (CNPJ)">Empreendedor ou Empregado (CNPJ)</option>
              <option value="Empregado (CLT)">Empregado (CLT)</option>
              <option value="Estagiário">Estagiário</option>
              <option value="Freelancer">Freelancer</option>
              <option value="Servidor Público">Servidor Público</option>
              <option value="Vivo fora do Brasil e trabalho para empresa de fora do Brasil">Vivo fora do Brasil e trabalho para empresa de fora do Brasil</option>
              <option value="Vivo no Brasil e trabalho remoto para empresa de fora do Brasil">Vivo no Brasil e trabalho remoto para empresa de fora do Brasil</option>
              <option value="Prefiro não informar">Prefiro não informar</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Cargo atual">Cargo atual</label>
            <select name="Cargo atual" id="Cargo atual">
              <option value="Analista de BI/BI Analyst">Analista de BI/BI Analyst</option>
              <option value="Analista de Dados/Data Analyst">Analista de Dados/Data Analyst</option>
              <option value="Analista de Inteligência de Mercado/Market Intelligence">Analista de Inteligência de Mercado/Market Intelligence</option>
              <option value="Analista de Negócios/Business Analyst">Analista de Negócios/Business Analyst</option>
              <option value="Analista de Suporte/Analista Técnico">Analista de Suporte/Analista Técnico</option>
              <option value="Analytics Engineer">Analytics Engineer</option>
              <option value="Cientista de Dados/Data Scientist">Cientista de Dados/Data Scientist</option>
              <option value="DBA/Administrador de Banco de Dados">DBA/Administrador de Banco de Dados</option>
              <option value="Data Product Manager/ Product Manager (PM/APM/DPM/GPM/PO)">Data Product Manager/ Product Manager (PM/APM/DPM/GPM/PO)</option>
              <option value="Desenvolvedor/ Engenheiro de Software/ Analista de Sistemas">Desenvolvedor/ Engenheiro de Software/ Analista de Sistemas</option>
              <option value="Economista">Economista</option>
              <option value="Engenheiro de Dados/Arquiteto de Dados/Data Engineer/Data Architect">Engenheiro de Dados/Arquiteto de Dados/Data Engineer/Data Architect</option>
              <option value="Engenheiro de Machine Learning/ML Engineer/AI Engineer">Engenheiro de Machine Learning/ML Engineer/AI Engineer</option>
              <option value="Estatístico">Estatístico</option>
              <option value="Outras Engenharias (não inclui dev)">Outras Engenharias (não inclui dev)</option>
              <option value="Professor/Pesquisador">Professor/Pesquisador</option>
              <option value="Não informado">Não informado</option>
              <option value="Outra Opção">Outra Opção</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Nível">Nível</label>
            <select name="Nível" id="Nível">
              <option value="Júnior">Júnior</option>
              <option value="Pleno">Pleno</option>
              <option value="Sênior">Sênior</option>
              <option value="Não informado">Não informado</option>
            </select>
          </div>

          <div class="form-group">
            <label for="Tempo de experiência">Tempo de experiência</label>
            <select name="Tempo de experiência" id="Tempo de experiência">
              <option value="Menos de 1 ano">Menos de 1 ano</option>
              <option value="de 1 a 2 anos">de 1 a 2 anos</option>
              <option value="de 3 a 4 anos">de 3 a 4 anos</option>
              <option value="de 4 a 6 anos">de 4 a 6 anos</option>
              <option value="de 5 a 6 anos">de 5 a 6 anos</option>
              <option value="de 7 a 10 anos">de 7 a 10 anos</option>
              <option value="Mais de 10 anos">Mais de 10 anos</option>
              <option value="Não tenho experiência na área de dados">Não tenho experiência na área de dados</option>
            </select>
          </div>

            <div class="form-group">
              <label for="Forma de trabalho atual">Forma de trabalho atual</label>
              <select name="Forma de trabalho atual" id="Forma de trabalho atual">
                <option value="Modelo 100% presencial">Modelo 100% presencial</option>
                <option value="Modelo 100% remoto">Modelo 100% remoto</option>
                <option value="Modelo híbrido">Modelo híbrido</option>
              </select>
            </div>
            <div class="form-group">
              <label for="Decisão da empresa para modelo 100% presencial">Decisão da empresa para modelo 100% presencial</label>
              <select name="Decisão da empresa para modelo 100% presencial" id="Decisão da empresa para modelo 100% presencial">
                <option value="Vou aceitar e retornar ao modelo 100% presencial">Vou aceitar e retornar ao modelo 100% presencial</option>
                <option value="Vou procurar outra oportunidade no modelo 100% remoto">Vou procurar outra oportunidade no modelo 100% remoto</option>
                <option value="Vou procurar outra oportunidade no modelo híbrido ou remoto">Vou procurar outra oportunidade no modelo híbrido ou remoto</option>
              </select>
            </div>
          </fieldset>
        </div>
        <button type="submit">Enviar</button>
        </form>
      </div>
      <h2 id="result"></h2>
    </div>

    <script>
      document.getElementById('form').addEventListener('submit', async function (e) {
        e.preventDefault();  // Impede o reload da página

        const form = e.target;  // 'e' está disponível aqui
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        console.log("Enviando dados:", data); // Debug

        try {
          const response = await fetch('/predict', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
          });

          if (!response.ok) {
            throw new Error('Erro na requisição: ' + response.status);
          }

          const result = await response.json();
          console.log("Resposta recebida:", result); // Debug

          document.getElementById('result').innerHTML =
            'Modelo de trabalho ideal (RandomForest): ' + result['Trabalho ideal (Random)'] + '<br><br>' + 'Modelo de trabalho ideal (DecisionTree):' + result['Trabalho ideal (DecisionTree)'];
        } catch (error) {
          console.error('Erro ao enviar ou receber dados:', error);
          document.getElementById('result').textContent =
            'Erro ao obter previsão. Verifique o servidor.';
        }
      });
    </script>

  </body>
</html>
